Mudan√ßas: o app nao ir√° apenas renomear os arquivos pdf, ele tambem vai registrar os dados extra√≠dos das notas.

vamos ao prompt:

APP WEB PWA RESPONSIVO (DESKTOP - MOBILE)

NOME DO APLICATIVO: CHECKNF - GDM

FRAMEWORK E BIBLIOTECA:
REACT + SHADCN

LIGUAGEM:
JAVASCRIPT + HTML + CSS

BANCO DE DADOS:
GOOGLE SHEETS : LINK DA PLANILHA NO GOOGLE DRIVE SHEETS: https://docs.google.com/spreadsheets/d/1c9DWogDs9ZC0BIrI8TN3ptuWTA_q21oL65tn44BDcaI/edit?usp=sharing
SUPABASE: LINK DO PROJETO NO SUPABASE : 
REACT_APP_SUPABASE_URL=https://nwkqdbonogfitjhkjjgh.supabase.co
REACT_APP_SUPABASE_PUBLISHABLE_DEFAULT_KEY=sb_publishable_mJHPyN1WlfdzNFdm4idVkQ_O60WLlBH

GITHUB: https://github.com/Obedys-IA/appchecknf.git

CONTEXTUALIZANDO INFORMA√á√ïES:
Canhoto = Nota fiscal
Cliente = Nome Fantasia
Dias em atraso = Quantos dias ap√≥s a data de emiss√£o, ou seja, se o registro da nota tem como data de emiss√£o dia 02/10/2025 e hoje √© 14/10/2025, ent√£o s√£o 12 dias em atraso
Dias a Vencer = diferen√ßa entre a data atual em rela√ß√£o a data de vencimento da nota, exemplo: hoje √© 14/10/2025, vencimento √© 24/10/2025, ent√£o dias a vencer √© 10 dias.

DEFINI√á√ÉO:
Ser√£o 7 TELAS:

1. Login
2. Dashboard
3. Upload
4. Registros
5. Relat√≥rios
6. Perfil
7. Configura√ß√µes

--------------

Segue as listas:

Lista de Clientes: Clientes.json


Observa√ß√£o1: quando o usu√°rio escolher "Outro (digitar)", o aplicativo vai abrir uma tela modal, onde o usu√°rio poder√° digitar manualmente no registro. (vale para razao social, cnpj, nome fantasia, rede, uf e vendedor)
Observa√ß√£o2: quando o aplicativo n√£o encontrar na nota o CNPJ / CPF para associar o nome fantasia, o aplicativo automaticamente vai registrar com o nome raz√£o social destacado como "CAMPO CONDI√á√ÉO" na nota modelosemplaca.pdf
Observa√ß√£o3: na tela de configura√ß√£o, o usu√°rio administrador poder√° cadastrar, alterar ou excluir qualquer item de lista, como: fretista, clientes, status, com todos os campos correlatos a cada tipo.

Lista de Fretistas: Fretistas.json

Observa√ß√£o1: quando o usu√°rio escolher "Outro (digitar), o aplicativo vai abrir uma tela modal, onde o usu√°rio poder√° digitar manualmente no registro. (vale para a placa e para o fretista)
Observa√ß√£o2: quando o aplicativo n√£o encontrar na nota a placa para associar o fretista, o aplicativo automaticamente vai registrar como "Sem Identifica√ß√£o" na parte do fretista, e a placa ficar√° tamb√©m como "Sem identifica√ß√£o"

Lista de Status:

Pendente
Entregue
Cancelada
Devolvida
Reenviada
Paga
Outro (digitar)

Observa√ß√£o1: quando o usu√°rio escolher "Outro (digitar), o aplicativo vai abrir uma tela modal, onde o usu√°rio poder√° digitar manualmente no registro. (vale para o Status)
Observa√ß√£o2: CADA STATUS TER√Å UMA COR DIFERENTE, SEGUE PALETA DE CORES:
Pendente (VERMELHO)
Entregue (VERDE)
Cancelada (PRETA)
Devolvida (ROXO)
Reenviada (AMARELA)
Paga (AZUL ESCURO)
Outro (digitar) (CINZA)

Lista Situa√ß√£o:

Vencimento Pr√≥ximo
Dentro do Prazo

Lista REGRA DE CFOP: ser√£o registradas apenas as notas que tiverem como CFOP os n√∫meros:
5100
5101
5102
5103
5104
5105
5106
5107
5108
6100
6101
6102
6103
6104
6105
6106
6107
6108
5400
5401
5402
5403
5404
5405

-----------

TELA 1: LOGIN

TELA DE LOGIN COM A SE√á√ÉO DE LOGIN E A SE√á√ÉO DE CADASTRO

TIPO DE CADASTRO:

NOME DO USUARIO + EMAIL + SENHA
GOOGLE
NOME DO USUARIO + TELEFONE + SENHA

CONDI√á√ÉO: SENHA COM NO MINIMO 8 DIGITOS, COM PELO MENOS UM DIGITO LETRA MAIUSCULA, UM DIGITO LETRA MINUSCULA, UM NUMERO.

HAVER√Å 5 TIPOS DE USUARIOS:
USUARIO ADMINISTRADOR - TER√Å ACESSO TOTAL AO APLICATIVO, TODAS AS TELAS E FUNCIONALIDADES;-
USUARIO COLABORADOR - TER√Å ACESSO TOTAL APENAS AS TELAS DE DASHBOARD, UPLOAD, REGISTROS, RELAT√ìRIOS E PERFIL
USUARIO FRETISTA - S√ì TER√Å ACESSO A TELA DE RELATORIOS E PERFIL
USUARIO GERENCIA - SO TER√Å ACESSO AS TELAS DE DASHBOARD E RELATORIOS
USUARIO NOVO - S√ì TER√Å ACESSO A TELA DE PERFIL (PARA NOVOS USUARIOS CADASTRADOS)

OBVIAMENTE, TODOS TER√ÉO ACESSO A TELA DE LOGIN.

ADICIONAIS:

TEM QUE APARECER O BOTAO DE VISUALIZAR SENHA QUANDO CLICADO;
QUANDO NAO TIVER SEGUINDO A CONDI√á√ÉO DA SENHA, TEM QUE APARECER UMA MENSAGEM INFORMANDO QUE A SENHA NAO SEGUE O PADR√ÉO OBRIGATORIO (NO MINIMO 8 DIGITOS, COM LETRA MAIUSCULA, LETRA MINUSCULA E NUMERO;
APOS O LOGIN SER EFETUADO COM SUCESSO, O USUARIO VAI PARA A TELA SPLASH QUE FICAR√Å VISIVEL POR 3 SEGUNDOS AT√â REDIRECIONAR O USUARIO AO APLICATIVO.
USUARIO GERENCIA: IR√Å SER TRANSFERIDO PARA TELA DASHBOARD
USUARIO FRETISTA: SER√Å TRANSFERIDO PARA A TELA PERFIL
USUARIO COLABORADOR: SER√Å TRANSFERIDO PARA A TELA REGISTROS
USUARIO ADMINISTRADOR: SER√Å TRANSFERIDO PARA A TELA REGISTROS
USUARIO NOVO: SER√Å TRANSFERIDO PARA A TELA DE PERFIL

SUPABASE: J√Å EXISTE UMA TABELA DE USUARIOS CRIADA NO PROJETO DO SUPABASE SITADO NO LINK. TABLE NAME: usuarios

----------

TELA 2: DASHBOARD

(divido em 3 partes)

1¬∫ PARTE DA TELA - FILTROS:

FILTRO DINAMICO (PODENDO DIGITAR QUALQUER COISA COMO BASE DE FILTRO)
FILTRO POR PER√çODO (ENTRE DUAS DATAS)
FILTRO POR PER√çODOS:
ANO ATUAL
ANO ANTERIOR
MES ATUAL
MES ANTERIOR
SEMANA ATUAL
SEMANA ANTERIOR
DIA ATUAL
DIA ANTERIOR

TER√Å TAMBEM FILTROS POR:
FRETISTA (da lista de fretistas - nome do fretista)
PLACA (da lista de fretistas - nome da placa)
CLIENTE (da lista de clientes - nome fantasia)
REDE (da lista de clientes - nome da rede)
VENDEDOR (da lista de clientes - nome do vendedor)
UF (da lista de clientes - nome da UF)
STATUS (da lista de status)
SITUA√á√ÉO (da lista situa√ß√£o)

2¬∫ PARTE DA TELA - CARDS:

üéØ Cards Resumo (KPI Cards)

üîµ Total de Notas Emitidas (N¬∫ TOTAL DE NOTAS REGISTRADAS NO APLICATIVO, DE TODOS OS STATUS)
üü¢ Canhotos Recebidos (N¬∫ DE NOTAS REGISTRADAS QUE CONSTAM COM O STATUS "ENTREGUE")
üî¥ Canhotos Pendentes  (N¬∫ DE NOTAS REGISTRADAS QUE CONSTAM COM O STATUS "PENDENTE")
‚ö´ Entregas Canceladas (N¬∫ DE NOTAS REGISTRADAS QUE CONSTAM COM O STATUS "CANCELADA")
üü£ Entregas Devolvidas (N¬∫ DE NOTAS REGISTRADAS QUE CONSTAM COM O STATUS "DEVOLVIDA")
üìä % de Canhotos Recebidos (efici√™ncia quantidade de canhotos com status pendente dividido pela quantidade total de canhotos registrados independente do status)
üí∞ Valor Pendente (soma total dos valores dos canhotos com status "PENDENTE"
‚è±Ô∏è Atrasadas (+7d) (n¬∫ de canhotos com mais de 7 dias com status pendente desde a sua data de emiss√£o)

Exemplo de visual:
üîµ Total de NF: 1.200 | üü¢ NF Entregue: 960 | üî¥ NF Pendente: 180 | ‚ö´ NF Cancelada: 60 | üü£ NF Devolvida: 60 | üìä Efici√™ncia: 80% | üí∞ Valor Pendente: 579.7K | ‚è±Ô∏è Atrasadas (+7d): 25 


3¬∫ PARTE DA TELA - GRAFICOS:

1.Gr√°fico de Barras ‚Äì Evolu√ß√£o Temporal:
Agrupar por status: Recebido / Pendente / Cancelado
Filtros dentro do gr√°fico: Di√°rio, Semanal, Mensal

2.Gr√°fico de Pizza ou Donut ‚Äì Distribui√ß√£o por Status:
Ideal para visualiza√ß√£o r√°pida do percentual de cada tipo

3.Gr√°fico de Linhas ‚Äì Notas Pendentes por Fretista

4.Gr√°fico de Linhas ‚Äì Top 10 Clientes com mais notas Pendentes

5. Tabela com Top 20 Vencimentos Pr√≥ximos (Pendentes):
NF | Cliente | Fretista	| Data Emiss√£o | Data Vencimento | Valor | Dias Atraso | Dias p/ Vencer

observa√ß√£o: organizar do mais pr√≥ximo a vencer para o menos pr√≥ximo.

6.Informa√ß√µes Adicionais √öteis no Dashboard:
Alertas autom√°ticos: Canhotos com mais de 7 dias sem retorno
Ranking (top 10) de Clientes com maior atraso nos canhotos
Ranking (top 5) de Fretista com maior atraso nos canhotos
Ranking Top (3) motoristas mais pontuais

---------

TELA 3: UPLOAD

NESSA TELA √â ONDE FICAR√ÉO AS DUAS OP√á√ïES DE IMPORTA√á√ÉO:

1 - UPLOAD DE ARQUIVOS (ja est√° funcionando perfeitamente. cuidado para nao errar na modifica√ß√£o do c√≥digo. ele ja ta extraindo os dados perfeitamente.

OBSERVA√á√ÉO1: QUANDO O USUARIO ENVIAR UM ARQUIVO EM PDF QUE TENHA MAIS DE UMA PAGINA, OU SEJA, MAIS DE UMA NOTA FISCAL NO MESMO ARQUIVO, O SISTEMA FA√áA O REGISTRO DE CADA NOTA FISCAL SEPARADO. EXEMPLO: SE EU ENVIAR UM ARQUIVO COM 50 NOTAS FISCAIS, O SISTEMA VAI REGISTRAR AS INFORMA√á√ïES DAS 50 NOTAS, E CADA NOTA √â UM REGISTRO DIFERENTE E SEPARADO.

os dados registrados ser√£o assim: 

Id (do supabase),	Nome Usu√°rio (do supabase),	Email Usu√°rio (do supabase),	Tipo Usu√°rio (do supabase),	Fretista_Placa (do supabase),	Data do registro (data que foi realizado o registro),	Hora do registro (hora que foi realizado o registro),	N√∫mero da Nota (ja programado no c√≥digo como "N√∫mero"),	Cnpj Emitente (cnpjEmitente),	Nome Emitente (nomeFantasiaEmitente),	Data de Emiss√£o (Emiss [Data]),	Hora da Sa√≠da (campo novo "HORA DA SA√çDA/ENTRADA" na nota fiscal - retornar com a hora que vem formatada como HH:MM:SS),	Data de Entrega	(campo novo: se a hora for das 17:00:00 at√© as 23:59:59, registrar com a DATA Emiss [DATA] + 1 dia, caso a hora seja entre as 00:00:00 e 16:59:59, registrar com a data = a data Emiss [DATA]),  Cnpj Cliente (cnpjCpfDestinatario),	Nome Fantasia (nomeFantasiaDestinatario),	Raz√£o Social (razaoSocial),	Rede (novo campo para consultar da lista de clientes do arquivo clientes.json),	UF (novo campo para consultar da lista de clientes do arquivo clientes.json),	Vendedor (novo campo para consultar da lista de clientes do arquivo clientes.json),	Valor (valorTotal)	Placa do Ve√≠culo (placa),	Fretista (fretista),	Data de Vencimento (dataVencimento)	CFOP (novo campo a retornar o CFOP da nota - observa√ß√£o: consultar regras dos CFOP),	Natureza da Opera√ß√£o (novo campo para consultar e retornar somente notas com a natureza da opera√ß√£o "REVENDA" ou "VENDA" ou "REVENDA DE MERCADORIA" ou "VENDA DE MERCADORIA"),	Situa√ß√£o (da lista de situa√ß√£o),	Status (sempre vir√° automaticamente com o status "PENDENTE"),	Dias em Atraso (da regra do calculo de dias em atraso),	Dias para Vencimento (da regra do calculo de dias de vencimento),	Observa√ß√£o (campo a ser preenchido no registro caso o usuario queira, √© op√ß√£o),	Usuario Edi√ß√£o (nome do usuario quando fazer alguma edi√ß√£o no registro),	Data Edi√ß√£o (data de quando foi a edi√ß√£o do registro),	Hora Edi√ß√£o (hora de quando foi a edi√ß√£o do registro)

----------

TELA 4: REGISTROS

NESSA TELA TER√Å FILTROS, COMO:

FILTRO DINAMICO (PODENDO DIGITAR QUALQUER COISA COMO BASE DE FILTRO)
FILTRO POR PER√çODO (ENTRE DUAS DATAS)
FILTRO POR PER√çODOS:
ANO ATUAL
ANO ANTERIOR
MES ATUAL
MES ANTERIOR
SEMANA ATUAL
SEMANA ANTERIOR
DIA ATUAL
DIA ANTERIOR

TER√Å TAMBEM FILTROS POR:
FRETISTA (da lista de fretistas - nome do fretista)
PLACA (da lista de fretistas - nome da placa)
CLIENTE (da lista de clientes - nome fantasia)
REDE (da lista de clientes - nome da rede)
VENDEDOR (da lista de clientes - nome do vendedor)
UF (da lista de clientes - nome da UF)
STATUS (da lista de status)
SITUA√á√ÉO (da lista situa√ß√£o)

nessa tela √© poss√≠vel visualizar, alterar e excluir qualquer registro j√° gerado.
Nessa tela tamb√©m ter√° os registros detalhados, e com os bot√µes de:
excluir (somente por usu√°rios administradores)
alterar (somente por usu√°rios administradores)
enviar via whatsapp o registro da nota individualmente

Segue modelo de envio:

üìå RESUMO DA NF "XXXXXXXXXX" (9 d√≠gitos) - üìÖ DATA DE EMISS√ÉO "XX-XX-XXXX"

üöö Fretista: "Danilo"
üë• Cliente: "Delicia Gra√ßa"
üí≤ Valor: "R$12.558,00"
üö© Status: "Pendente"
‚è≥ Dias em atraso: "xx"
üìù Observa√ß√£o: "Devolu√ß√£o de 2 caixas de kiwi Sungold por motivo de baixa qualidade"

aqui ficar√° listado (Em tabela) todas as notas fiscais, em ordem de data de emiss√£o e status (sempre ordenando do pendente primeiro em sequencia os cancelados, depois os devolvidos e por √∫ltimos os entregues. AS informa√ß√µes nessa lista que ser√£o extra√≠das atrav√©s das fotos ou arquivos pdf enviados:

DEVE SER REGISTRADO ESSES DADOS EXTRAIDOS DAS NOTAS NA SEGUINTE ORDEM:

DATA DA EMISS√ÉO // HORA DA SA√çDA/ENTRADA // N¬∫ DA NF // Nome Fantasia (CAMPO QUE SE BASEAR√Å NO CNPJ / CPF EXTRA√çDA DA NOTA, COMO NUM PROCV, OU SEJA, AO SER CONSULTADO O CNPJ / CPF, AUTOMATICAMENTE A PARTE DO NOME FANTASIA SER√Å PREENCHIDA BASEADA NA LISTA DE CLIENTES E REGISTRAR O NOME FANTASIA ASSOCIADO A ESSE CNPJ / CPF) Rede (consulta lista de clientes associado ao CNPJ / CPF) // UF (consulta lista de clientes associado ao CNPJ / CPF) // Vendedor (consulta lista de clientes associado ao CNPJ / CPF) // PLACA DO VE√çCULO // FRETISTA (CAMPO QUE SE BASEAR√Å NA PLACA EXTRA√çDA DA NOTA, COMO NUM PROCV, OU SEJA, AO SER REGISTRADO UMA PLACA, AUTOMATICAMENTE A PARTE DO FRETISTA SER√Å PREENCHIDA BASEADA NA lISTA FRETISTAS) // Valor da nota // Data de Vencimento (Venc. (Vencimento) // Situa√ß√£o (Vem automaticamente preenchido com "Dentro do Prazo", mas ser√° atualizado baseado na "data de vencimento". Se a partir de quando faltar apenas 10 dias para o vencimento da nota, este campo mudar√° para a situa√ß√£o "Vencimento Pr√≥ximo")

No geral, no arquivo NFEXEMPLOSEMPLACA.pdf l√° explica direitinho onde est√£o cada campo e cada informa√ß√£o a consultar e registrar, jutamente com as listas de fretistas e clientes.

Observa√ß√£o1: toda vez que o sistema extrair o dado da placa de uma nota fiscal, ele vai filtrar a informa√ß√£o do fretista na (lista de fretistas) e vai preencher automaticamente o campo "fretista)
Observa√ß√£o2: toda nova nota registrada automaticamente √© registrada com o status de "PENDENTE".
Observa√ß√£o3: PARA ALTERAR NO REGISTRO O STATUS DE UMA NOTA, BASTA CLICAR NO "STATUS" QUE ELE MUDAR√Å PARA O PROXIMO "STATUS" DA LISTA DE STATUS.
Observa√ß√£o4: As notas com vencimento pr√≥ximo ser√£o afetadas com a cor "vermelha" em um gradiente, onde quanto mais pr√≥ximo da data do vencimento, mais vermelho vai ficar o campo "Situa√ß√£o". Isso valer√° a partir de quando faltar apenas 10 dias para o vencimento da nota.
Observa√ß√£o4 :TODOS OS REGISTROS TER√ÉO UM BOT√ÉO DE "EDI√á√ÉO" ONDE O USUARIO ADMINISTRADOR e COLABORADOR PODER√Å ALTERAR QUALQUER INFORMA√á√ÉO DESSE REGISTRO DA NOTA.

nessa tela ter√° um bot√£o "Incluir" onde o usu√°rio poder√° incluir manualmente todas as informa√ß√µes necess√°rias para registrar um registro.

---------------

5 TELA: Relat√≥rios:

NESSA TELA TER√Å FILTROS, COMO:

FILTRO DINAMICO (PODENDO DIGITAR QUALQUER COISA COMO BASE DE FILTRO)
FILTRO POR PER√çODO (ENTRE DUAS DATAS)
FILTRO POR PER√çODOS:
ANO ATUAL
ANO ANTERIOR
MES ATUAL
MES ANTERIOR
SEMANA ATUAL
SEMANA ANTERIOR
DIA ATUAL
DIA ANTERIOR

TER√Å TAMBEM FILTROS POR:
FRETISTA (da lista de fretistas - nome do fretista)
PLACA (da lista de fretistas - nome da placa)
CLIENTE (da lista de clientes - nome fantasia)
REDE (da lista de clientes - nome da rede)
VENDEDOR (da lista de clientes - nome do vendedor)
UF (da lista de clientes - nome da UF)
STATUS (da lista de status)
SITUA√á√ÉO (da lista situa√ß√£o)


NESSA TELA VAI TER TODOS OS REGISTROS E INFORMA√á√ïES IMPORTADOS DAS NOTAS E TUDO QUE FOI ALTERADO, INCLUIDO OU MODIFICADO NA TELA DE "REVIS√ÉO E REGISTROS". OU SEJA, TODOS OS DADOS ESTAR√ÉO AQUI ORDENADOS E ORGANIZADOS COMO NUMA TABELA.

SEGUE OS BOT√ïES A SEREM CRIADOS:

BOT√ÉO resumo 1 - "üìù RESUMO GERAL DI√ÅRIO"
Envia um Resumo Simplificado para WhatsApp


üìù RESUMO GERAL DOS CANHOTOS ‚Äì ATUALIZA√á√ÉO 19/06/2025 (data do dia do resumo)

üü¢ Recebidos: 960
üî¥ Pendentes: 180
‚ö´ Cancelados: 60
üü£ Devolu√ß√£o Total: 20

üìà Efici√™ncia: 75%
üìÖ Prazo m√©dio de retorno: 4 dias

üîî Atrasados (+7 dias): 
- Fretista A - NF 12345 - Cliente X
- Fretista C - NF 67890 - Cliente Y


observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar
OBSERVA√á√ÉO3: PARA ESSE RESUMO: esse resumo na parte de "Atrasados (+7 dias)" deve ser gerado ordenado por Cliente (nome fantasia)


BOT√ÉO resumo 2: "üöõ Resumo por Fretista"
Envia um Resumo Simplificado para WhatsApp
exemplo do resumo:


üìù RESUMO DOS CANHOTOS POR FRETISTA ‚Äì ATUALIZA√á√ÉO 19/06/2025 (data do dia do resumo)

üöö Fretista: Jo√£o

üü¢ Canhotos Recebidos: 15
üî¥ Pendentes: 3
‚è±Ô∏è M√©dia retorno: 2,8 dias

üìÖ Emiss√£o: Segunda-Feira, 16 de Junho de 2025 (data de emiss√£o da nota)
üìå Pendentes:
- NF 33333 ‚Äì Cliente X ‚Äì 5 dias - R$ 1.158,50
- NF 44444 ‚Äì Cliente Y ‚Äì 5 dias - R$ 560,00

üìÖ Emiss√£o: Ter√ßa-Feira, 17 de Junho de 2025 (data de emiss√£o da nota)
üìå Pendentes:
- NF 55555 ‚Äì Cliente X ‚Äì 4 dias - R$ 561,00


observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar


BOT√ÉO resumo 3: "üè¢ Resumo por Cliente"
Envia um Resumo Simplificado para WhatsApp
exemplo do resumo:


üìù RESUMO DOS CANHOTOS POR CLIENTE ‚Äì ATUALIZA√á√ÉO 19/06/2025 (data do dia do resumo)

üè¢ CLIENTE: Supermercado Uni√£o

üü¢ Recebidos: 8
üî¥ Pendentes: 2
‚è±Ô∏è M√©dia retorno: 2,8 dias

üìå Pendentes:
- NF 77777 ‚Äì Jo√£o ‚Äì 5 dias - R$ 560,00
- NF 88888 ‚Äì Maria ‚Äì 9 dias - R$ 1.158,50


observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar


BOT√ÉO resumo 4: "üßæ Resumo Semanal de Efici√™ncia"
exemplo do resumo:


üìÖ SEMANA 10 A 16 JUNHO (filtra os √∫ltimos 7 dias)

üöõ Fretistas Por Efici√™ncia: (tempo de atraso x n√∫mero de canhotos pendentes)
1. Ana ‚Äì 100%
2. Carlos ‚Äì 95%
3. Jo√£o ‚Äì 92%
4. Francisco - 90%
5. Roberto - 87,5%
6. Obedys - 56%
7. Flavio - 46%
8. Marcos - 44%
9. Paulo - 37,7%
10. Pedro - 36,2%
11. Maria - 28%
12. Junior - 13,1%

üè¢ Clientes com mais Pend√™ncias:
üë• Cliente Z ‚Äì 5 canhotos
üë• Cliente A ‚Äì 4 canhotos
üë• Cliente B ‚Äì 3 canhotos

üöö Fretistas com mais Pend√™ncias:
ü™™ Jos√© ‚Äì 5 canhotos
ü™™ Roberto ‚Äì 4 canhotos
ü™™ Jo√£o ‚Äì 3 canhotos


observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar


üìù RELAT√ìRIOS EM PDF:

Bot√£o PDF 1: "üìÑ Relat√≥rio Completo"

1. üìÑ Relat√≥rio Completo de Notas
Per√≠odo: selecion√°vel (dia, semana, m√™s)
No relat√≥rio vai constar:

Cards (indicadores):
Quantidade de notas por m√™s
Total de Canhotos entregues (NOTAS COM STATUS "BAIXADA")
Total de Canhotos Pendentes + dias de pend√™ncias (NOTAS COM STATUS "PENDENTE" + QUANTIDADE DE DIAS PASSADO DESDE A DATA DE EMISS√ÉO DA NOTA)
Total Pendente em valor (SOMA DO VALOR TOTAL DAS NOTAS COM STATUS "PENDENTE")
Tempo m√©dio de retorno

Gr√°ficos:
Pizza de status
Evolu√ß√£o temporal

Tabela completa: resumo geral
Cliente, NF, Data Emiss√£o, Fretista, Status, Dias em Atraso

Tabela completa:
Canhotos n√£o retornados acima de 7 dias (contando ap√≥s a data de emiss√£o da nota)
NF, Cliente, Fretista, Data de Emiss√£o


Assinatura do respons√°vel (espa√ßo para controle interno)

observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar
Observa√ß√£o3: no relat√≥rio tem que constar o Nome da empresa (FILIAL 0102 - TRIELO CD SIM√ïES FILHO), a logo (IMAGEM EM ANEXO), data e hora do relat√≥rio, e o usu√°rio que gerou.

Bot√£o PDF 2: "üßë‚Äçüíº Relat√≥rio por Cliente"

2. üßë‚Äçüíº Relat√≥rio por Cliente
Filtro por nome do cliente
No relat√≥rio vai constar:

Cards (indicadores):
Quantidade de notas por m√™s
Total de Canhotos entregues (NOTAS COM STATUS "BAIXADA")
Total de Canhotos Pendentes + dias de pend√™ncias (NOTAS COM STATUS "PENDENTE" + QUANTIDADE DE DIAS PASSADO DESDE A DATA DE EMISS√ÉO DA NOTA)
Total Pendente em valor (SOMA DO VALOR TOTAL DAS NOTAS COM STATUS "PENDENTE")
Tempo m√©dio de retorno
Ranking de performance por per√≠odo
	Utilize cores: Verde (√≥timo), Amarelo (aten√ß√£o), Vermelho (cr√≠tico)

Gr√°ficos:
Pizza de status
Evolu√ß√£o temporal

Tabela completa: resumo geral
Cliente, NF, Data Emiss√£o, Fretista, Status, Dias em Atraso

Tabela completa:
Canhotos n√£o retornados acima de 7 dias (contando ap√≥s a data de emiss√£o da nota)
NF, Cliente, Fretista, Data de Emiss√£o

observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar
Observa√ß√£o3: no relat√≥rio tem que constar o Nome da empresa (FILIAL 0102 - TRIELO CD SIM√ïES FILHO), a logo (IMAGEM EM ANEXO), data e hora do relat√≥rio, e o usu√°rio que gerou.

Bot√£o PDF 3: "üöõ Relat√≥rio por Fretista"

3. üöõ Relat√≥rio por Fretista
No relat√≥rio vai constar:

Cards (indicadores):
Quantidade de notas por m√™s
Total de Canhotos entregues (NOTAS COM STATUS "BAIXADA")
Total de Canhotos Pendentes + dias de pend√™ncias (NOTAS COM STATUS "PENDENTE" + QUANTIDADE DE DIAS PASSADO DESDE A DATA DE EMISS√ÉO DA NOTA)
Total Pendente em valor (SOMA DO VALOR TOTAL DAS NOTAS COM STATUS "PENDENTE")
Tempo m√©dio de retorno
Ranking de performance por per√≠odo
	Utilize cores: Verde (√≥timo), Amarelo (aten√ß√£o), Vermelho (cr√≠tico)

Gr√°ficos:
Pizza de status
Evolu√ß√£o temporal

Tabela completa: resumo geral
Cliente, NF, Data Emiss√£o, Fretista, Status, Dias em Atraso

Tabela completa:
Canhotos n√£o retornados acima de 7 dias (contando ap√≥s a data de emiss√£o da nota)
NF, Cliente, Fretista, Data de Emiss√£o

Assinatura do respons√°vel (espa√ßo para controle interno)

observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar
Observa√ß√£o3: no relat√≥rio tem que constar o Nome da empresa (FILIAL 0102 - TRIELO CD SIM√ïES FILHO), a logo (IMAGEM EM ANEXO), data e hora do relat√≥rio, e o usu√°rio que gerou.

Bot√£o PDF 4: " Relat√≥rio Cr√≠tico"

4. üö® Relat√≥rio de Pend√™ncias Cr√≠ticas
Somente NFs com mais de 14 dias sem retorno

Listada dessa forma:

NF - Valor - Data de Emiss√£o -Cliente - Fretista - Dias em Atraso - Observa√ß√£o

observa√ßao1: usar emoticons e imagens para melhorar o visual do relatorio
observa√ß√£o2: Relat√≥rio Personaliz√°vel, podendo ser alterado ao selecionar algum filtro antes de exportar
Observa√ß√£o3: no relat√≥rio tem que constar o Nome da empresa (FILIAL 0102 - TRIELO CD SIM√ïES FILHO), a logo (IMAGEM EM ANEXO), data e hora do relat√≥rio, e o usu√°rio que gerou.


bOT√ÉO - "Exportar Excel"
gerar o relat√≥rio completo com todas as informa√ß√µes extraidas das notas, al√©m das informa√ß√µes de status, coment√°rios, observa√ß√µes e usu√°rio.


IMPLEMENTA√á√ïES FINAIS:

Integra√ß√£o com Google Drive / Sheets

Notifica√ß√µes push para pend√™ncias acima de 7 dias
EXEMPLO:

üö®üö®üö® ATEN√á√ÉO üö®üö®üö® 

üò± ESSES FRETISTAS EST√ÉO COM PEND√äNCIAS EM ATRASOS A MAIS DE 7 DIAS üò±

üöö Fretista "A" üóÉÔ∏è N¬∫ DE PENDENCIAS "X" ‚è∞ TEMPO EM ATRASO "10 DIAS"
üöö Fretista "B" üóÉÔ∏è N¬∫ DE PENDENCIAS "Y" ‚è∞ TEMPO EM ATRASO "8 DIAS"

‚ö†Ô∏è FAVOR, COBRAR COM URG√äNCIA ‚ö†Ô∏è

Mensagens de alertas com pendencias pr√≥xima do vencimento (NOTAS COM STATUS "PENDENTE" com a data pr√≥xima do vencimento).

----------------

6 TELA: PERFIL

Nessa tela ter√° os seguintes filtros:

FILTRO DINAMICO (PODENDO DIGITAR QUALQUER COISA COMO BASE DE FILTRO)
FILTRO POR PER√çODO (ENTRE DUAS DATAS)
FILTRO POR PER√çODOS:
ANO ATUAL
ANO ANTERIOR
MES ATUAL
MES ANTERIOR
SEMANA ATUAL
SEMANA ANTERIOR
DIA ATUAL
DIA ANTERIOR

TER√Å TAMBEM FILTROS POR:
PLACA (da lista de fretistas - nome da placa)
CLIENTE (da lista de clientes - nome fantasia)
REDE (da lista de clientes - nome da rede)
VENDEDOR (da lista de clientes - nome do vendedor)
UF (da lista de clientes - nome da UF)
STATUS (da lista de status)
SITUA√á√ÉO (da lista situa√ß√£o)

nessa tela para usu√°rios do tipo "fretista" vai sofrer a influencia da configura√ß√£o do fretista associado ao seu cadastro (na tela de configura√ß√µes).

nessa tela ir√° ter cards estat√≠sticos com quantidade total de notas, notas entregues, notas pendentes, notas canceladas, notas devolvidas, etc.
ter√° tambem em tabela a lista completa de notas (somente do status "Pendente") com o cliente, data de emiss√£o, valor, dias em atraso, dias a vencer.
nessa tela ter√° alertas de mensagens sinalizandos os canhotos mais antigos, e os canhotos mais pr√≥ximos do vencimento, informando o numero da nota fiscal, cliente e a data de emiss√£o

observa√ß√£o1: para usu√°rios do tipo colaborador e administrador, ir√° aparecer os registros de todos os fretistas, sem exce√ß√£o.
observa√ß√£o2: para usu√°rios do tipo colaborador e administrador, ir√° aparecer mais um filtro (fretista).

-----------------

7 TELA: CONFIGURA√á√ïES

tela que somente o usu√°rio administrador acessa;

nessa tela o usu√°rio administrador poder√° cadastrar um novo usuario, excluir um usu√°rio j√° cadastro ou alterar o tipo de usu√°rio;

nessa tela ter√° uma tabela de hist√≥rico, mostrando o usuario que acessou, que horas o usu√°rio acessou, e qual tela acessou e o que realizou. ser√° salvo somente no supabase e local;

nessa tela o usu√°rio ter√° o status se o aplicativo est√° conectado ao supabase e ao google sheets.

nessa tela o usu√°rio administrador pode cadastrar um novo cliente ou um novo fretista, da seguinte maneira:

para novos clientes, os campos ser√£o:
nome raz√£o social - CNPJ / cpf - cliente (nome fantasia) - rede - uf - vendedor

para novos fretistas. os campos ser√£o:
palca - fretista

esses dados ao serem preenchidos, ir√£o ser atualizados na lista de clientes e de fretistas, assim como no banco de dados nas suas respectivas listas.

Importante: nessa tela, o usu√°rio administrador ir√° associar o usu√°rio do tipo fretista a um fretista da lista de fretistas, sendo assim, quando o usu√°rio fretista acessar a tela de perfil, l√° ele so vai conseguir visualizar os registros e tudo mais do fretista atrelado ao seu cadastro de usu√°rio. quem definir√° ser√° o administrador aqui pela tela de configura√ß√µes, ou seja, nessa tela aqui ter√° a lista completa de usu√°rios cadastrados e quando for do tipo "fretista" o usu√°rio administrador vai associa-lo a um fretista da lista de fretista, configurando assim o que esse usu√°rio ir√° ver no aplicativo.

-------------------

CONSIDERA√á√ïES FINAIS DAS FUNCIONALIDADES DO APLICATIVO:

TODO REGISTRO ENVIADO VAI GERAR UMA INFORMA√á√ÉO COM:
Registro enviado por "nome do usu√°rio que enviou o registro" + "data de envio do registro" + "hora de envio do registro"

TODO REGISTRO EDITADO VAI GERAR UMA INFORMA√á√ÉO COM:
Registro editado por "nome do usu√°rio que enviou o registro" + "data de edi√ß√£o do registro" + "hora de edi√ß√£o do registro"

SEGUE LISTA DE USUARIOS ADMINISTRADORES:
obedys.ia@gmail.com 
adm.salvador@frutasdocemel.com.br
obedysjunio@gmail.com
obedysgois@gmail.com
eujunio13@gmail.com

(ja est√£o cadastrados no supabase na table usu√°rios)

TODO USUARIO NOVO CADASTRADO AUTOMATICAMENTE SER√Å DO TIPO "USUARIO NOVO", E SOMENTE O USUARIO ADMINISTRADOR PODER√Å ALTERAR O SEU TIPO DE USUARIO (PELA TELA DE CONFIGURA√á√ïES OU PELA SUPABASE)

QUANDO IMPORTADO UM ARQUIVO COM MAIS DE 1 NOTA, O APLICATIVO N√ÉO DEVE REGISTRAR/EXTRAIR OS DADOS APENAS DA PRIMEIRA NOTA. O APLICAITVO DEVE VERIFICAR TODAS AS PAGINAS DO ARQUIVO ENVIADO, E IDENTIFICAR AS NOTAS PARA QUE EXTRAIA TODAS AS INFORMA√á√ïES DE TODAS AS NOTAS, MESMO QUE SEJA VARIAS NOTAS EM UM UNICO ARQUIVO.

so extrair dados de notas fiscais COM OS CFOP DA LISTA DE REGRAS DE CFOP, OU Seja, que tem como natureza da opera√ß√£o PELO MENOS A PALAVRA "REVENDA"

n√£o extrair dados de notas com numera√ß√£o duplicada, n√£o extrair dados de notas onde j√° tem a numera√ß√£o no APLICATIVO.

INCLUIR BOT√ÉO "LIMPAR FILTROS" QUE LIMPA TODOS OS FILTROS SELECIONADOS em todas as telas que contem filtros

na tela de registros, INCLUIR TAMBEM O BOT√ÉO QUE DELETA VARIOS REGISTROS AO MESMO TEMPO, BASTANDO O USUARIO SELECIONAR OS REGISTROS E DEPOIS CLICAR NESSE BOT√ÉO (EXCLUIR SELE√á√ÉO) - VAI APARECEER MENSAGEM PERGUNTANDO SE DESEJA SEGUIR COM A EXCLUS√ÉO DOS REGISTROS SELECIONADOS "SIM" OU "N√ÉO" OBSERVA√á√ÉO: AO CLICAR NESSE BOT√ÉO "EXCLUIR SELE√á√ÉO", O APLICATIVO IR√Å EXCLUIR UM REGISTRO A CADA 1 SEGUNDO DE INTERVALO, PARA NAO OCORRER SOBRECARGA NO APLICATIVO.

toda nota importada que gera um registro, mesmo as notas estejam agrupadas em um √∫nico arquivo, no registro realizado (com os dados da nota), deve ficar salvo apenas a nota desse registro, para quando o usu√°rio clicar no bot√£o que abre o arquivo da nota, ele vai ver apenas a nota do registro, e nao todas as notas do arquivo que foi feito o upload. √© como se depois que o registro com os dados da nota for realizado, o sistema separasse essa nota das demais e salvasse ela em um √∫nico arquivo, deixando ela dispon√≠vel para download no seu respectivo registro.

incluir um bot√£o flutuante na tela de "Registros" que ao ser clicado, o usuario poder√° gerar um registro (manualmente) preenchendo todos os campos: 
observa√ß√£o: todos esses campos ser√£o digitados manualmente pelo usuario ao clicar no bot√£o flutuante (nome do bot√£o = "Incluir")

Na tela registros...:

üìã Ordena√ß√£o por Status:
‚Ä¢	Pendente aparece primeiro (prioridade 1)
‚Ä¢	Baixada aparece por √∫ltimo (prioridade 8)
‚Ä¢	Outros status ficam no meio, ordenados por relev√¢ncia
‚ö° Otimiza√ß√µes de Performance:
1.	React.memo - Componente TableRowMemo otimizado para evitar re-renders desnecess√°rios
2.	useMemo - C√°lculos pesados (filtros + ordena√ß√£o) s√£o memoizados
3.	useCallback - Fun√ß√µes s√£o memoizadas para evitar recria√ß√µes
4.	Pagina√ß√£o - Apenas 50 itens por p√°gina s√£o renderizados
5.	Tempo de delay reduzido - Na exclus√£o em massa (100ms vs 1000ms)
üîß Melhorias Adicionais:
‚Ä¢	Controles de navega√ß√£o entre p√°ginas
‚Ä¢	Contador inteligente mostra progresso da pagina√ß√£o
‚Ä¢	Sele√ß√£o otimizada - Funciona apenas com itens da p√°gina atual
‚Ä¢	Ordena√ß√£o dupla - Por status primeiro, depois por data de emiss√£o


LAYOUT E VISUAL DO APLICATIVO:

TEMA escuro e claro
bot√£o de ativa√ß√£o

IMPORTANTE:
usar os:
Components
Blocks
Charts
Themes
Colors
do shadcn

visual:
moderno, PROFISSIONAL, BONITO E ORGANIZADO.

imagens:
logocanhotos.png como logo principal do aplicativo
splashcanhotos.png para a tela de splash

ANTES DE COME√áAR, LEIA TODOS OS ARQUIVOS ATUAIS NO PROJETO E DEPOIS INICIE O DESENVOLVIMENTO DO PROJETO
LEMBRE-SE QUE ATUALMENTE JA EST√Å FUNCIONANDO A EXTRA√á√ÉO DOS DADOS DE ARQUIVOS DE NOTAS FISCAIS. CUIDADO PARA NAO CAUSAR PROBLEMA COM ESSAS EXTRA√á√ïES.